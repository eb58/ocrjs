<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
   <head>
      <title>TODO supply a title</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="vendor/underscore-1.8.3//underscore.min.js"></script>
      <script src="vendor/jQuery-1.11.3/jquery.js"></script>
      <script src="./data/dbjs/dbm6x4.js"></script>
      <script src="./data/dbjs/dbverify6x4.js"></script>
      <script src="./js/ocr.js"></script>
      <script>
         
         const ocrdb = ocr(dbm6x4);
         
         const run = (n, counter) => {
            dbverify6x4[n].forEach(checkDigit => {
               const guessOk = ocrdb.findNearestDigit(checkDigit).best.digit === n
               counter.all++;
               counter.ok += guessOk;
               counter.nok += !guessOk;
            });
         }


         $(document).ready(() => {
            $('#btnTest').on('click', () => {
               
               const counter = {ok: 0, nok: 0, all: 0};

               _.range(10).forEach(n => run(n, counter))

               const quot = counter.ok / counter.all;
               console.log(counter, quot);

            })
         })
      </script>

   </head>
   <body>
      <div>OCR TEST</div>
      <button id="btnTest">  Test</button>
   </body>
</html>
